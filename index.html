<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Stage_2</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style> 
        .loading-screen {
            position: fixed; 
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: black;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1s ease-in-out;
        }

        .content {
            opacity: 0;
            transform: translateY(20px);
            visibility: hidden;
            transition: opacity 5s ease-in-out, transform 5s ease-in-out;
        }

        .content.visible {
            opacity: 1;
            transform: translateY(0);
            visibility: visible;
        }
    </style>
</head>

<body>
    <div class="game_bgimg_2">
        <img src="1x/game bgimg_2.png">
    </div>
    <div class="loading-screen" id="loadingScreen"></div>
    <div class="big-box content" id="content">

        <script>
            window.addEventListener('load', function () {
                var loadingScreen = document.getElementById('loadingScreen');
                var content = document.getElementById('content');

                if (loadingScreen && content) {
                    loadingScreen.style.opacity = 0;

                    loadingScreen.addEventListener('transitionend', function () {
                        loadingScreen.style.display = 'none';
                        content.classList.add('visible');
                        if (document.body) {
                            document.body.style.overflow = 'auto';
                        }
                    });

                    setTimeout(function () {
                        loadingScreen.style.opacity = 1;
                    }, 9000);

                    setTimeout(function () {
                        content.style.opacity = 1;
                        content.style.transform = 'translateY(0)';
                        content.style.visibility = 'visible';
                    }, 9000);
                }
            });
        </script>
    </div>

    <div class="text">
            <button onclick="startTypewriter()">스테이지를 해결하는 방법을 확인하세요!</button>
            <p id="demo"></p>

        <script>
            var i = 0;
            var txt = "과제 제출 기한이 얼마 남지 않은 지금..!\n 열심히 작업하느라 파일 정리도 제대로 안된 상황, 돌아다니는 파일들 중 필요한 파일을 잡아보세요!";
            var speed = 20;
            var isTyping = false;

            function startTypewriter() {
                if (!isTyping) {
                    isTyping = true;
                    i = 0;
                    document.getElementById("demo").innerHTML='';
                    typeWriter();
                }
            }

            function typeWriter() {
                if (i < txt.length) {
                    if (txt.charAt(i) === '\n') {
                        document.getElementById("demo").innerHTML += '<br>';
                    } else {
                        document.getElementById("demo").innerHTML += txt.charAt(i);
                    }
                    i++;
                    setTimeout(typeWriter, speed);
                } else {
                    isTyping = false;
                }
            }
        </script>

        <script src="scirpt.js"></script>
    </body>
</html>